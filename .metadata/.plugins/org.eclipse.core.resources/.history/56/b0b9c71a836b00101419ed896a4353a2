package com.wellcare.serviceImpl;

import java.util.List;

import org.springframework.stereotype.Service;

import com.wellcare.dto.DoctorDto;
import com.wellcare.entities.Doctor;
import com.wellcare.repositories.DoctorRepository;
import com.wellcare.service.DoctorService;

import lombok.RequiredArgsConstructor;

@Service
@RequiredArgsConstructor
public class DoctorServiceImpl implements DoctorService {

	private final DoctorRepository doctorRepository;
	
	// Mapping: Entity → DTO
    private DoctorDto mapToDto(Doctor doctor) {
        return DoctorDto.builder()
                .id(doctor.getId())
                .name(doctor.getName())
                .phone(doctor.getPhone())
                .age(doctor.getAge())
                .specialization(doctor.getSpecialization())
                .available(doctor.isAvailable())
                .build();
    }

    // Mapping: DTO → Entity
    private Doctor mapToEntity(DoctorDto dto) {
        return Doctor.builder()
                .id(dto.getId())
                .name(dto.getName())
                .phone(dto.getPhone())
                .age(dto.getAge())
                .specialization(dto.getSpecialization())
                .available(dto.isAvailable())
                .build();
    }
	
	
	@Override
	public DoctorDto createDoctor(DoctorDto doctorDto) {
		 Doctor doctor = mapToEntity(doctorDto);
	        Doctor saved = doctorRepository.save(doctor);
	        return mapToDto(saved);
	}

	@Override
	public List<DoctorDto> getAllDoctors() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public DoctorDto getDoctorById(Long id) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public DoctorDto updateDoctor(Long id, DoctorDto doctorDto) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public void deleteDoctor(Long id) {
		// TODO Auto-generated method stub

	}

}
